import{r as t,a as e,o as a,c as s,w as l,b as n,d as o,u as i,F as r,e as u}from"./index-c3657c03.js";import{_ as c,a as p}from"./uv-list.af8259f7.js";import{o as d,S as m,r as f}from"./constant.2ec62004.js";const x={__name:"index",setup(x){let E=t([]);return d((t=>{window.initSqlJs({locateFile:()=>m}).then((a=>{e({url:"./package.json",success:s=>{e({url:`https://unpkg.com/cl-lite@${s.data.version}/db/cl-main.sqlite`,responseType:"arraybuffer"}).then((e=>{const s=new a.Database(new Uint8Array(e.data)).exec(`SELECT * FROM t_topic tp WHERE url like '%/' || ${t.fid} || '/%' AND post_time NOTNULL ORDER BY post_time DESC`),l=[];s[0].values.forEach((t=>{const e=new Date(Number(`${t[2]}000`));l.push({text:t[0],url:t[1],date:`${e.toLocaleDateString()} ${e.toLocaleTimeString()}`})})),E.value=l}))}})}))})),(t,e)=>{const d=f(u("uv-list-item"),c),m=f(u("uv-list"),p);return a(),s(m,null,{default:l((()=>[(a(!0),n(r,null,o(i(E),(t=>(a(),s(d,{title:t.text,note:t.date,link:"",to:`/pages/detail/index?url=${t.url}`},null,8,["title","note","to"])))),256))])),_:1})}}};export{x as default};
